# Обработка данных процедур ингаляций пациентов

## Задача проекта
Реализовать перевод данных ингаляций в графики.

Графики каждого параметра в формате ```.png``` должны быть сохранены в папки по следующей иерархии: ```/<дата_процедуры>/<время_начала_процедуры>/``` 

Результаты процедур хранятся в формате ```.log``` в корневом каталоге программы.

### Развертка программы в VSCode
1. Клиноруем репозиторий `git clone <ссылка_на_репо>`
2. Создаем виртуальное окружение `python -m venv venv` и активируем его `source venv/Scripts/activate `
3. Устанавливаем зависимости для проекта `pip install -r requirements.txt`
4. Запускаем файл `pet.py`

### Дополнительные возможности
- Выбрать директорию сохранения графиков при запуске `pet.py`. В противном случае - сохранится в директории программы.
- В процессе обработки выводится процент выполнения в консоли и обрабатываемый файл.

Файлы ```.log``` в репозитории для тестов.

Структура файлов  ```.log```:
- Каждый файл формируется за отдельную дату.
- Заголовочная строка 
- Время в сек (ось X); 
- Давление О2 (кислорода) на входе аппарата в барах (значение умноженное на 10);
- Давление He (гелия) на входе аппарата в барах (значение умноженное на 10);
- Значение датчика потока О2, литры в минуту;
- Значение датчика потока He, литры в минуту;
- Концентрация кислорода в смеси (датчик 1) - фактическое, в %;
- Концентрация кислорода в смеси (датчик 2) - не фиксируется, в %;
- Давление в маске, см. водного столба (тип unsigned);
- Температура в маске, градусы Цельсия;
- Температура нагревателя, градусы Цельсия;
- Объем вдоха, мл;
- Частота дыхания , раз в минуту;
- Заданная температура, градусы Цельсия;
- Концентрация кислорода в смеси -заданное, в %;
- Флаги состояния системы - на графики не переносятся;)
- Начало ингаляции обозначено строкой вида # POWERON 10.12.2018 12:33:59 (фактически название директории с графиками)
- Примечание: по времени запись за день пишется непрерывно, но на каждом графике (для каждой ингаляции) время должно начинаться с 0.

### Пример ```.log``` файла:
```
# time;P_O2, atm;P_He, atm;Flow O2, l/min;Flow He, l/min;FiO2 Env, %;FiO2 sens2, %;P mask, cm H2O;Tmask, gradC;Tnagr, gradC;V, ml;f, 1/min;Tzad, gradC;FiO2 zad, %;Flags;
# POWERON 10.02.2020 13:23:00
1;0;0;0;0;0;0;1;135;135;0;0;0;25;83886592;0
18;0;0;0;0;1000;0;234;135;135;0;0;0;25;50332160;0
19;0;0;0;0;517;0;249;135;135;0;0;0;25;50332165;0
22;41;0;0;0;405;0;0;135;135;0;0;0;25;50332164;0
54;40;0;0;0;1000;0;1;135;135;0;0;0;25;50331652;0
71;41;0;0;0;1000;0;1;135;135;0;0;0;25;83886084;0
72;41;0;0;0;548;0;1;135;135;0;0;0;25;83886624;0
82;0;0;0;0;105;0;1;135;135;0;0;0;25;83886592;0
128;0;0;0;1;946;0;236;135;135;0;0;0;25;83886085;0
...
```
### Пример графика на выходе:

![Значение датчика потока He, литры в минуту](https://user-images.githubusercontent.com/75097575/109803863-a1d17580-7c32-11eb-90af-4e13e32951dc.png)
